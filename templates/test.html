<!DOCTYPE html>
<html lang='en'>
<head>
  <meta charset='utf-8'/>
  <title>Stocks</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <style>

  </style>

</head>
<body>
  <h1>Welcome dude</h1>

<input name="quote" id="quote" placeholder="stock id"></input>
<input name="amount" id="amount" placeholder="amount"></input><br/>
<button onclick="g_action(this)" name="display_summary" id="display_summary">DISPLAY_SUMMARY</button></br>
<button onclick="action(this)" name="add" id="add">ADD</button></br>
<button onclick="g_action(this)" name="quote" id="quote">QUOTE</button></br>
<button onclick="action(this)" name="buy" id="buy">BUY</button></br>
<button onclick="action(this)" name="commit_buy" id="commit_buy">COMMIT_BUY</button> </br>
<button onclick="action(this)" name="cancel_buy" id="cancel_buy">CANCEL_BUY</button> </br>
<button onclick="action(this)" name="sell" id="sell">SELL</button></br>
<button onclick="action(this)" name="commit_sell" id="commit_sell">COMMIT_SELL</button> </br>
<button onclick="action(this)" name="cancel_sell" id="cancel_sell">CANCEL_SELL</button> </br>
<button onclick="action(this)" name="set_buy_amount" id="set_buy_amount">SET_BUY_AMOUNT</button></br>
<button onclick="action(this)" name="set_buy_trigger" id="set_buy_trigger">SET_BUY_TRIGGER</button> </br>
<button onclick="action(this)" name="cancel_set_buy" id="cancel_set_buy">CANCEL_SET_BUY</button> </br>
<button onclick="action(this)" name="set_sell_amount" id="set_sell_amount">SET_SELL_AMOUNT</button></br>
<button onclick="action(this)" name="set_sell_trigger" id="set_sell_trigger">SET_SELL_TRIGGER</button> </br>
<button onclick="action(this)" name="cancel_set_sell" id="cancel_set_sell">CANCEL_SET_SELL</button> </br>
<button onclick="g_action(this)" name="dumplog" id="dumplog">DUMPLOG</button> <br/>
<button onclick="g_action(this)" name="admin_dumplog" id="admin_dumplog">ADMIN_DUMPLOG</button> </br>

<h4>User info </h4>
<div id="user">

</div>

<script>
var tid = 1;
var uid = "asdf";
window.onload = function(){
  //document.getElementByTagName("button").click()
}

function action(t){
  console.log(t.id)
  var xhttp = new XMLHttpRequest();
  xhttp.open("POST","../"+tid + "/" + uid + "/" + t.id + "?amount=" + document.getElementById("amount").value + "&stock=" + document.getElementById("quote").value,true);
  xhttp.send()
  document.getElementById("user").innerHTML = xhttp.response;
  tid ++;
}
function g_action(t){
  console.log(t.id)
  var xhttp = new XMLHttpRequest();
  if(t.id == "admin_dumplog"){
    xhttp.open("GET",tid + "/admin/dumplog?filename=tmp.xml",true);
  }
  else{
    xhttp.open("GET","../"+tid + "/" + uid + "/" + t.id + "?amount=" + document.getElementById("amount").value + "&stock=" + document.getElementById("quote").value + "&filename=tmp.xml",true);
  }
  xhttp.send()
  document.getElementById("user").innerHTML = xhttp.response;
  tid ++;
}

</script>
</body>

</html>
